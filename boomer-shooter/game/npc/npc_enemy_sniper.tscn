[gd_scene load_steps=13 format=3 uid="uid://b0mg37m0iryg8"]

[ext_resource type="PackedScene" uid="uid://bk4gef23vtvh7" path="res://content/models/npc_sniper.glb" id="1_56ml3"]
[ext_resource type="Script" uid="uid://bdvpgw8cvqdsn" path="res://game/npc/npc_enemy_grunt.gd" id="2_fhicx"]
[ext_resource type="Shader" uid="uid://gwcb86082iq6" path="res://content/models/npc.gdshader" id="3_fhicx"]
[ext_resource type="Texture2D" uid="uid://cb6cy252bwyrn" path="res://content/textures/snip_skin_export.png" id="4_2xbe1"]
[ext_resource type="Texture2D" uid="uid://dmsaoi3kdgwba" path="res://content/textures/hole_map.png" id="4_36t4m"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://dqjgomdtemo5l" path="res://game/npc/npc_animation_blend_tree.tres" id="4_mso36"]
[ext_resource type="PackedScene" uid="uid://cg5fupmfgsdtj" path="res://game/weapons/weapon_sniper.tscn" id="5_vutn1"]
[ext_resource type="AnimationLibrary" uid="uid://b0i7f5lwho16o" path="res://content/models/npc_animation_library.glb" id="6_1xbef"]
[ext_resource type="AudioStream" uid="uid://djsq0h71bb887" path="res://game/npc/hurt.tres" id="7_c2x8a"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mso36"]
render_priority = 0
shader = ExtResource("3_fhicx")
shader_parameter/texture_albedo = ExtResource("4_2xbe1")
shader_parameter/texture_holes = ExtResource("4_36t4m")
shader_parameter/modulate = Color(1, 1, 1, 1)
shader_parameter/blood_color = Color(0.878431, 0, 0, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_vutn1"]
radius = 50.0
height = 100.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fhicx"]
radius = 0.4

[node name="NPCEnemySniper" instance=ExtResource("1_56ml3")]
collision_layer = 4
collision_mask = 0
script = ExtResource("2_fhicx")
target_lock_time = 0.3
looking_at = Vector3(0, 0, 0)
speed = 1.0
holes = 0
cuts = 0

[node name="Skeleton3D" parent="Armature" index="0"]
bones/1/position = Vector3(-3.8147e-08, 0.653044, -0.0273547)
bones/1/rotation = Quaternion(-0.11106, -0.340013, -0.0259513, 0.933479)
bones/2/position = Vector3(-4.19095e-09, 0.0988135, -0.0128012)
bones/2/rotation = Quaternion(-0.00965514, -0.000122523, 0.00310769, 0.999949)
bones/3/rotation = Quaternion(0.13691, 8.25855e-05, -0.00517813, 0.99057)
bones/4/position = Vector3(1.86265e-09, 0.132852, -1.86265e-09)
bones/4/rotation = Quaternion(0.140753, -0.000228565, -0.00513038, 0.990031)
bones/5/position = Vector3(-5.58793e-09, 0.149459, 1.87073e-08)
bones/5/rotation = Quaternion(0.0729455, 0.0645282, 0.0120168, 0.995174)
bones/6/position = Vector3(-1.49012e-08, 0.0965834, 0.0312217)
bones/6/rotation = Quaternion(-0.0258216, 0.191025, 0.0917954, 0.976942)
bones/8/rotation = Quaternion(0.412843, 0.202347, -0.591714, 0.662187)
bones/9/position = Vector3(-5.35978e-08, 0.158563, 2.94518e-08)
bones/9/rotation = Quaternion(0.402729, -0.235854, 0.210935, 0.858888)
bones/10/position = Vector3(-1.20277e-07, 0.197834, 2.30363e-08)
bones/10/rotation = Quaternion(-0.00592213, 0.0117028, 0.535607, 0.844366)
bones/11/position = Vector3(6.94512e-08, 0.198224, -3.19925e-08)
bones/11/rotation = Quaternion(-0.0830652, -0.772031, -0.229049, 0.58703)
bones/12/position = Vector3(-0.0213561, 0.0398657, -0.0018126)
bones/12/rotation = Quaternion(0.141899, -0.0145318, 0.763524, 0.629829)
bones/13/rotation = Quaternion(-0.00231957, 0.167019, -0.620918, 0.765872)
bones/14/position = Vector3(1.59995e-08, 0.0217018, -2.88509e-08)
bones/14/rotation = Quaternion(0.107464, -0.00988121, -0.0933208, 0.98977)
bones/15/position = Vector3(-1.69715e-08, 0.0232753, 8.16027e-08)
bones/16/position = Vector3(-0.00473966, 0.0749168, 0.00173577)
bones/16/rotation = Quaternion(0.356582, 0.0840179, 0.300723, 0.880543)
bones/17/position = Vector3(-7.9973e-10, 0.0253378, 1.94865e-08)
bones/17/rotation = Quaternion(0.522705, -0.0190316, -0.0971015, 0.846752)
bones/18/position = Vector3(2.69475e-08, 0.0262806, 6.68323e-08)
bones/18/rotation = Quaternion(0.177353, 0.0706519, -0.0161312, 0.981475)
bones/19/position = Vector3(5.51524e-08, 0.0195303, -9.21322e-09)
bones/20/position = Vector3(0.00547122, 0.0743583, 0.000848703)
bones/20/rotation = Quaternion(0.459772, -0.0267806, -0.0603159, 0.885582)
bones/21/rotation = Quaternion(0.543787, -0.00939483, -0.0639417, 0.836731)
bones/22/position = Vector3(2.7754e-08, 0.0266088, -2.54952e-08)
bones/22/rotation = Quaternion(0.149863, -0.00620252, -0.0505861, 0.987392)
bones/23/position = Vector3(2.078e-08, 0.0254161, 1.12037e-07)
bones/24/position = Vector3(0.0143095, 0.0727273, 0.00147598)
bones/24/rotation = Quaternion(0.479068, -0.219828, -0.424745, 0.736045)
bones/25/position = Vector3(4.644e-08, 0.0195015, -3.26013e-08)
bones/25/rotation = Quaternion(0.605569, 0.0203412, 0.00792673, 0.795493)
bones/26/position = Vector3(1.16836e-07, 0.0119783, 1.0111e-07)
bones/26/rotation = Quaternion(0.222827, -0.0309287, 0.0171364, 0.974217)
bones/27/position = Vector3(-2.81864e-08, 0.0169014, -4.84061e-08)
bones/28/rotation = Quaternion(0.308567, -0.24891, 0.662511, 0.635538)
bones/29/position = Vector3(4.8757e-08, 0.158563, -1.41372e-07)
bones/29/rotation = Quaternion(0.454411, -0.179273, -0.504638, 0.711837)
bones/30/position = Vector3(-8.89159e-09, 0.197834, 3.81002e-08)
bones/30/rotation = Quaternion(-0.00203298, -0.0146279, -0.761496, 0.648001)
bones/31/position = Vector3(2.19257e-08, 0.198224, 9.78683e-09)
bones/31/rotation = Quaternion(-0.154961, 0.287661, 0.243568, 0.913188)
bones/32/position = Vector3(0.0213562, 0.0398658, -0.00181274)
bones/32/rotation = Quaternion(0.208237, -0.0781181, -0.789466, 0.572083)
bones/33/position = Vector3(8.56142e-08, 0.0222242, -9.54527e-08)
bones/33/rotation = Quaternion(-0.0640218, -0.208302, 0.743777, 0.631908)
bones/34/position = Vector3(-5.80557e-09, 0.0217018, -3.67596e-09)
bones/34/rotation = Quaternion(-0.0142528, -0.113689, 0.605755, 0.787358)
bones/36/position = Vector3(0.00473975, 0.0749169, 0.00173573)
bones/36/rotation = Quaternion(0.161953, -0.015492, -0.356818, 0.919898)
bones/37/position = Vector3(2.76584e-08, 0.0253378, -1.42308e-08)
bones/37/rotation = Quaternion(0.309285, 0.00798344, 0.0726527, 0.948157)
bones/38/position = Vector3(4.82857e-09, 0.0262807, 6.42459e-08)
bones/38/rotation = Quaternion(0.225438, -0.0715273, 0.0173766, 0.971473)
bones/39/position = Vector3(5.68963e-08, 0.0195303, 9.96716e-08)
bones/40/position = Vector3(-0.00547125, 0.0743585, 0.000848602)
bones/40/rotation = Quaternion(0.449624, 0.00739115, 0.0832112, 0.889303)
bones/41/rotation = Quaternion(0.824347, 0.0130757, 0.0652398, 0.562161)
bones/42/position = Vector3(1.23616e-08, 0.0266087, -1.15577e-08)
bones/42/rotation = Quaternion(0.158126, 0.00724945, 0.0471824, 0.986264)
bones/44/position = Vector3(-0.0143093, 0.0727274, 0.00147595)
bones/44/rotation = Quaternion(0.45072, 0.218681, 0.398985, 0.768011)
bones/45/rotation = Quaternion(0.777654, -0.0340585, -0.00251213, 0.627765)
bones/46/position = Vector3(-1.266e-07, 0.0119782, 3.6267e-08)
bones/46/rotation = Quaternion(0.426416, 0.0222874, -0.0141474, 0.904142)
bones/47/position = Vector3(-3.07044e-08, 0.0169014, 2.04922e-08)
bones/48/position = Vector3(0.075523, -0.0549383, -0.000493263)
bones/48/rotation = Quaternion(0.396061, 0.0532973, 0.903174, -0.156756)
bones/49/position = Vector3(7.62862e-09, 0.264065, 4.9951e-09)
bones/49/rotation = Quaternion(-0.177545, -0.0062002, -0.0194364, 0.983901)
bones/50/position = Vector3(-9.15468e-09, 0.279005, -2.64242e-08)
bones/50/rotation = Quaternion(0.547806, -0.0276306, -0.0552976, 0.834319)
bones/51/position = Vector3(7.45964e-09, 0.190872, -6.79815e-09)
bones/51/rotation = Quaternion(0.222738, -0.181029, 0.158871, 0.944657)
bones/53/position = Vector3(-0.0755229, -0.0549383, -0.000493261)
bones/53/rotation = Quaternion(0.0463747, -0.0353861, 0.996426, 0.0611011)
bones/54/position = Vector3(-7.27499e-09, 0.264065, 1.17389e-08)
bones/54/rotation = Quaternion(-0.271685, 0.0122758, 0.0206654, 0.962086)
bones/55/position = Vector3(1.68247e-08, 0.279006, -9.08872e-09)
bones/55/rotation = Quaternion(0.693071, 0.168846, 0.0440874, 0.699429)
bones/56/rotation = Quaternion(0.222896, 0.181, -0.158899, 0.94462)
bones/57/position = Vector3(4.16578e-09, 0.0707696, -2.94572e-10)

[node name="Skin" parent="Armature/Skeleton3D" index="0"]
material_override = SubResource("ShaderMaterial_mso36")

[node name="LookAtModifier3D" type="LookAtModifier3D" parent="Armature/Skeleton3D" index="1"]
unique_name_in_owner = true

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
root_motion_track = NodePath("Armature/Skeleton3D:Root")
root_motion_local = false
tree_root = ExtResource("4_mso36")
anim_player = NodePath("../AnimationPlayer2")
parameters/Blend2/blend_amount = 0
"parameters/Blend2 2/blend_amount" = 0
parameters/HitHead/active = false
parameters/HitHead/internal_active = false
parameters/HitHead/request = 0
parameters/Holding/current_state = ""
parameters/Holding/transition_request = ""
parameters/Holding/current_index = -1
parameters/MoveDirection/blend_position = -1
parameters/Special/current_state = "Moving"
parameters/Special/transition_request = ""
parameters/Special/current_index = 0
parameters/TimeScale/scale = 1.0

[node name="RootMotionView" type="RootMotionView" parent="." index="3"]
animation_path = NodePath("../AnimationTree")

[node name="Vision" type="Area3D" parent="." index="4"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.41583, 0)
collision_layer = 0
collision_mask = 10
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Vision" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 50.1898)
shape = SubResource("CapsuleShape3D_vutn1")

[node name="LeftHandBoneAttachment" type="BoneAttachment3D" parent="." index="5"]
transform = Transform3D(-0.575657, -0.51673, 0.633726, -0.235709, 0.846984, 0.476507, -0.782981, 0.12493, -0.609371, -0.0852612, 1.14094, 0.450606)
bone_name = "mixamorig_LeftHandMiddle1"
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="RightHandBoneAttachment2" type="BoneAttachment3D" parent="." index="6"]
transform = Transform3D(0.241708, -0.494647, -0.834806, 0.816935, 0.56799, -0.100018, 0.523635, -0.657807, 0.541383, -0.136379, 1.11061, 0.130604)
bone_name = "mixamorig_RightHandMiddle3"
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="Weapon" parent="RightHandBoneAttachment2" index="0" instance=ExtResource("5_vutn1")]
unique_name_in_owner = true
transform = Transform3D(-0.0365223, 0.819413, 0.572038, -0.49772, 0.481457, -0.721438, -0.866569, -0.311063, 0.390254, 0.0904894, 0.00566351, 0.0228444)

[node name="AnimationPlayer2" type="AnimationPlayer" parent="." index="7"]
root_motion_track = NodePath("Armature/Skeleton3D:Root")
root_motion_local = false
libraries = {
&"npc_animation_library": ExtResource("6_1xbef")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="8"]
transform = Transform3D(0.767435, 0.123974, -0.629026, 0.0270737, 0.973984, 0.224992, 0.640555, -0.189697, 0.744114, -3.8147e-08, 0.653044, -0.0273547)
shape = SubResource("CapsuleShape3D_fhicx")

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="." index="9"]
transform = Transform3D(0.767435, 0.123974, -0.629026, 0.0270737, 0.973984, 0.224992, 0.640555, -0.189697, 0.744114, -3.8147e-08, 0.653044, -0.0273547)
bone_name = "Hips"
bone_idx = 1
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="BoneAttachment3D" index="0"]
remote_path = NodePath("../../CollisionShape3D")

[node name="AudioHurt" type="AudioStreamPlayer3D" parent="." index="10"]
stream = ExtResource("7_c2x8a")
volume_db = 5.0
unit_size = 50.0
pitch_scale = 1.5
bus = &"SFX"
