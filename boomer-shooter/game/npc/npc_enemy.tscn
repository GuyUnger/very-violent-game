[gd_scene load_steps=12 format=3 uid="uid://0s22t0uld35g"]

[ext_resource type="PackedScene" uid="uid://cpfk5dfdx54m2" path="res://content/models/character.glb" id="1_3ocbx"]
[ext_resource type="Script" uid="uid://b25oyjhrmvks8" path="res://game/npc/npc_enemy.gd" id="2_3ocbx"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://dqjgomdtemo5l" path="res://game/npc/npc_animation_blend_tree.tres" id="3_nde2q"]
[ext_resource type="AnimationLibrary" uid="uid://b0i7f5lwho16o" path="res://content/models/npc_animation_library.glb" id="4_3tmsd"]

[sub_resource type="SphereShape3D" id="SphereShape3D_3ocbx"]
radius = 5.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3ocbx"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_3ocbx"]
size = Vector3(0.015, 0.045, 0.355)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ye2x2"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_ye2x2"]
top_radius = 0.01
bottom_radius = 0.01
height = 0.3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jjuis"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_jjuis"]
size = Vector3(0.005, 0.07, 0.04)

[node name="NPCEnemy" groups=["aimables"] instance=ExtResource("1_3ocbx")]
collision_layer = 4
script = ExtResource("2_3ocbx")
speed = 4.0
max_health = 20
health = 20

[node name="Skeleton3D" parent="Armature" index="0"]
bones/2/rotation = Quaternion(-0.0609705, 0.0026384, -0.000719642, 0.998136)
bones/3/rotation = Quaternion(0.000792485, 0.000367958, -0.000323936, 1)
bones/4/rotation = Quaternion(0.000798166, 0.000365339, -0.000316145, 1)
bones/5/rotation = Quaternion(0.0645911, 0.00468743, 0.00195231, 0.997899)
bones/6/rotation = Quaternion(0.00294495, 0.0074188, -0.000913328, 0.999968)
bones/8/rotation = Quaternion(0.557705, 0.424872, -0.530629, 0.476321)
bones/9/rotation = Quaternion(-0.0638288, -0.00581397, -0.0188265, 0.997766)
bones/10/rotation = Quaternion(-0.015488, 0.00433782, 0.0453936, 0.99884)
bones/11/rotation = Quaternion(0.00291378, 0.137385, -0.0201359, 0.990309)
bones/12/rotation = Quaternion(0.152099, -0.029012, 0.823347, 0.546008)
bones/13/rotation = Quaternion(-0.123282, 0.0516361, -0.572952, 0.808617)
bones/14/rotation = Quaternion(0.131314, -0.0145608, -0.184541, 0.973904)
bones/16/rotation = Quaternion(0.0742537, -0.00933415, 0.341191, 0.93701)
bones/17/rotation = Quaternion(0.0596798, 0.00586116, -0.0567028, 0.996589)
bones/18/rotation = Quaternion(-0.0122621, 0.0692293, 0.0153819, 0.997407)
bones/20/rotation = Quaternion(0.0356303, -0.00115613, -0.0229438, 0.999101)
bones/21/rotation = Quaternion(0.0423606, -0.000613205, -0.0196855, 0.998908)
bones/22/rotation = Quaternion(0.0133714, -0.00131493, -0.0383972, 0.999172)
bones/24/rotation = Quaternion(0.0563954, 0.0203015, -0.441119, 0.895445)
bones/25/rotation = Quaternion(0.0645976, -0.016696, 0.0564781, 0.996172)
bones/26/rotation = Quaternion(0.0222823, -0.0373463, 0.0277596, 0.998668)
bones/28/rotation = Quaternion(0.559044, -0.425479, 0.524475, 0.481003)
bones/29/rotation = Quaternion(-0.0576694, -0.00667071, 0.00746883, 0.998286)
bones/30/rotation = Quaternion(-0.0156193, -0.00433483, -0.045261, 0.998844)
bones/31/rotation = Quaternion(0.000632508, -0.133612, 0.0158441, 0.990907)
bones/32/rotation = Quaternion(0.152041, 0.0291976, -0.82382, 0.5453)
bones/33/rotation = Quaternion(-0.123524, -0.0515034, 0.573467, 0.808223)
bones/34/rotation = Quaternion(0.131261, 0.0144067, 0.186933, 0.973457)
bones/36/rotation = Quaternion(0.0740087, 0.00943839, -0.34164, 0.936865)
bones/37/rotation = Quaternion(0.0597508, -0.0057774, 0.0558701, 0.996632)
bones/38/rotation = Quaternion(-0.0121904, -0.0692964, -0.0158614, 0.997396)
bones/40/rotation = Quaternion(0.0353851, 0.00111181, 0.0225338, 0.999119)
bones/41/rotation = Quaternion(0.0424314, 0.000561199, 0.0188203, 0.998922)
bones/42/rotation = Quaternion(0.0134053, 0.00140169, 0.0379312, 0.999189)
bones/44/rotation = Quaternion(0.0561868, -0.020391, 0.440797, 0.895615)
bones/45/rotation = Quaternion(0.0646473, 0.0167034, -0.0573539, 0.996119)
bones/46/rotation = Quaternion(0.0223006, 0.0373235, -0.0282473, 0.998655)

[node name="LookAtModifier3D" type="LookAtModifier3D" parent="Armature/Skeleton3D" index="0"]
unique_name_in_owner = true
bone_name = "mixamorig_Head"
bone = 6

[node name="AnimationTree" type="AnimationTree" parent="." index="1"]
root_motion_track = NodePath("Armature/Skeleton3D:Root")
root_motion_local = false
tree_root = ExtResource("3_nde2q")
anim_player = NodePath("../AnimationPlayer")
parameters/HitBody/active = 0.0
parameters/HitBody/internal_active = 0.0
parameters/HitBody/request = 0.0
parameters/HitHead/active = 0.0
parameters/HitHead/internal_active = 0.0
parameters/HitHead/request = 0
parameters/MoveDirection/blend_position = Vector2(0, 0)
parameters/Special/current_state = "Moving"
parameters/Special/transition_request = ""
parameters/Special/current_index = 0
parameters/TimeScale/scale = 1.0

[node name="RootMotionView" type="RootMotionView" parent="." index="2"]
animation_path = NodePath("../AnimationTree")

[node name="Vision" type="Area3D" parent="." index="3"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.56873, 0)
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Vision" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.51003)
shape = SubResource("SphereShape3D_3ocbx")

[node name="LeftHandBoneAttachment" type="BoneAttachment3D" parent="." index="4"]
transform = Transform3D(-0.575657, -0.51673, 0.633726, -0.235709, 0.846984, 0.476507, -0.782981, 0.12493, -0.609371, -0.0852612, 1.14094, 0.450606)
bone_name = "mixamorig_LeftHandMiddle1"
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="RightHandBoneAttachment2" type="BoneAttachment3D" parent="." index="5"]
transform = Transform3D(0.241708, -0.494647, -0.834806, 0.816935, 0.56799, -0.100018, 0.523635, -0.657807, 0.541383, -0.136379, 1.11061, 0.130604)
bone_name = "mixamorig_RightHandMiddle3"
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="SickAssGun" type="MeshInstance3D" parent="RightHandBoneAttachment2" index="0"]
transform = Transform3D(-0.0686942, 1.26062, 0.733297, -0.513229, 0.666252, -1.19345, -1.3651, -0.313923, 0.411793, 0.145057, -0.0653292, 0.02294)
material_override = SubResource("StandardMaterial3D_3ocbx")
mesh = SubResource("BoxMesh_3ocbx")
skeleton = NodePath("../..")

[node name="RightHand" type="Marker3D" parent="RightHandBoneAttachment2/SickAssGun" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0971346)

[node name="LeftHand" type="Marker3D" parent="RightHandBoneAttachment2/SickAssGun" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0891441)

[node name="MeshInstance3D2" type="MeshInstance3D" parent="RightHandBoneAttachment2/SickAssGun" index="2"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.000823617, 0.0554796)
material_override = SubResource("StandardMaterial3D_ye2x2")
mesh = SubResource("CylinderMesh_ye2x2")
skeleton = NodePath("../../..")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RightHandBoneAttachment2/SickAssGun" index="3"]
transform = Transform3D(1, 0, 0, 0, 0.990105, -0.140331, 0, 0.140331, 0.990105, 0, -0.0524004, -0.0874176)
material_override = SubResource("StandardMaterial3D_jjuis")
mesh = SubResource("BoxMesh_jjuis")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="6"]
root_motion_track = NodePath("Armature/Skeleton3D:Root")
root_motion_local = false
libraries = {
&"npc_animation_library": ExtResource("4_3tmsd")
}
