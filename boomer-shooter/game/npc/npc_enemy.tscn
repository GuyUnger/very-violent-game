[gd_scene load_steps=11 format=3 uid="uid://0s22t0uld35g"]

[ext_resource type="PackedScene" uid="uid://cpfk5dfdx54m2" path="res://content/models/character.glb" id="1_3ocbx"]
[ext_resource type="Script" uid="uid://b25oyjhrmvks8" path="res://game/npc/npc_enemy.gd" id="2_3ocbx"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://dqjgomdtemo5l" path="res://game/npc/npc_animation_blend_tree.tres" id="3_nde2q"]

[sub_resource type="SphereShape3D" id="SphereShape3D_3ocbx"]
radius = 5.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3ocbx"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_3ocbx"]
size = Vector3(0.015, 0.045, 0.355)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ye2x2"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_ye2x2"]
top_radius = 0.01
bottom_radius = 0.01
height = 0.3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jjuis"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_jjuis"]
size = Vector3(0.005, 0.07, 0.04)

[node name="NPCEnemy" instance=ExtResource("1_3ocbx")]
script = ExtResource("2_3ocbx")
speed = 4.0

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(-6.83457e-06, 0.000489199, 0.010901)
bones/1/rotation = Quaternion(-5.15143e-14, -1.3935e-06, 4.39048e-05, 1)
bones/2/rotation = Quaternion(-0.00282771, 1.51762e-06, -4.39007e-05, 0.999996)
bones/3/rotation = Quaternion(1.86265e-08, 4.64902e-14, -6.81869e-13, 1)
bones/4/rotation = Quaternion(-1.67638e-08, -2.40346e-19, 6.77626e-20, 1)
bones/5/rotation = Quaternion(0.00282771, -4.19894e-14, -2.27493e-13, 0.999996)
bones/6/rotation = Quaternion(1.98523e-23, 1.93706e-20, -1.79299e-20, 1)
bones/8/rotation = Quaternion(-0.57098, -0.416158, 0.573893, -0.414054)
bones/9/rotation = Quaternion(-0.157323, -0.00205253, 0.00290001, 0.987541)
bones/10/rotation = Quaternion(3.7911e-08, -8.8265e-05, -7.89424e-09, 1)
bones/11/rotation = Quaternion(0.00651108, 0.00979147, -0.0556699, 0.99838)
bones/12/rotation = Quaternion(0.204274, 0.0865584, 0.222688, 0.94931)
bones/13/rotation = Quaternion(-0.000188893, 0.00240691, 0.0947699, 0.995496)
bones/14/rotation = Quaternion(-0.000130542, -0.00159346, 0.064604, 0.99791)
bones/16/rotation = Quaternion(-0.00703473, -0.000400273, 0.0555064, 0.998434)
bones/17/rotation = Quaternion(1.43145e-06, -8.54501e-08, 0.000191183, 1)
bones/18/rotation = Quaternion(-1.13365e-06, -4.41416e-07, -6.98396e-05, 1)
bones/20/rotation = Quaternion(-0.00706669, 0.000159307, 0.0553215, 0.998444)
bones/21/rotation = Quaternion(8.41452e-07, 3.02511e-05, 0.00114306, 0.999999)
bones/22/rotation = Quaternion(1.63121e-06, -1.45e-05, -0.0015157, 0.999999)
bones/24/rotation = Quaternion(-0.00722575, 0.00298333, 0.0548278, 0.998465)
bones/25/rotation = Quaternion(-1.01312e-06, -2.49915e-05, 0.000886154, 1)
bones/26/rotation = Quaternion(3.92855e-07, 2.57332e-05, 0.000636752, 1)
bones/28/rotation = Quaternion(-0.0070387, -0.000315029, 0.0557066, 0.998422)
bones/29/rotation = Quaternion(-2.94858e-06, 4.93034e-06, 0.000257617, 1)
bones/30/rotation = Quaternion(1.07275e-06, 8.86538e-06, -0.00093109, 1)
bones/32/rotation = Quaternion(0.572813, -0.41485, 0.572022, 0.415423)
bones/33/rotation = Quaternion(-0.157343, 0.00088888, 0.000557713, 0.987543)
bones/34/rotation = Quaternion(-1.30451e-07, 0.000109327, -6.68601e-08, 1)
bones/35/rotation = Quaternion(0.00692523, -0.0107346, 0.0573493, 0.998272)
bones/36/rotation = Quaternion(0.203483, -0.084161, -0.227205, 0.948625)
bones/37/rotation = Quaternion(-0.000214232, -0.00282001, -0.0927728, 0.995683)
bones/38/rotation = Quaternion(-5.95226e-05, 0.000754563, -0.0644371, 0.997922)
bones/40/rotation = Quaternion(-0.00752116, 0.000361817, -0.0574437, 0.99832)
bones/41/rotation = Quaternion(1.08201e-06, -2.35224e-05, -0.000812173, 1)
bones/42/rotation = Quaternion(-2.98467e-06, -2.37709e-05, 0.00235693, 0.999997)
bones/44/rotation = Quaternion(-0.00752054, 0.00036452, -0.0558729, 0.99841)
bones/45/rotation = Quaternion(-1.16239e-06, 4.69827e-05, -0.0014042, 0.999999)
bones/46/rotation = Quaternion(1.15888e-06, -7.05659e-05, -0.00170914, 0.999999)
bones/48/rotation = Quaternion(-0.0075754, -0.000583542, -0.0570019, 0.998345)
bones/49/rotation = Quaternion(-7.82265e-08, 1.38876e-06, -0.000284659, 1)
bones/50/rotation = Quaternion(8.71342e-08, -2.06173e-06, -0.00027936, 1)
bones/52/rotation = Quaternion(-0.00761903, -0.00136259, -0.0574041, 0.998321)
bones/53/rotation = Quaternion(-1.30755e-06, -6.05801e-05, -0.00148495, 0.999999)
bones/54/rotation = Quaternion(-7.00028e-07, -4.86808e-05, 0.00382997, 0.999993)
bones/56/rotation = Quaternion(0.000301915, -0.00607942, 0.999936, -0.00953204)
bones/57/rotation = Quaternion(-0.018387, 0.000705382, -0.0210835, 0.999608)
bones/58/rotation = Quaternion(0.449311, 0.0324534, 0.0116654, 0.892709)
bones/59/rotation = Quaternion(0.328431, -0.0265337, 0.00923109, 0.94411)
bones/61/rotation = Quaternion(-2.71579e-05, -0.0143744, 0.99985, 0.00962696)
bones/62/rotation = Quaternion(-0.00801315, -0.000582761, 0.0211007, 0.999745)
bones/63/rotation = Quaternion(0.458093, -0.0310539, -0.0115446, 0.888286)
bones/64/rotation = Quaternion(0.317175, 0.0252088, -0.00843441, 0.947994)

[node name="LookAtModifier3D" type="LookAtModifier3D" parent="Armature/Skeleton3D" index="0"]
unique_name_in_owner = true
bone_name = "mixamorig_Head"
bone = 6

[node name="AnimationPlayer" parent="." index="1"]
root_motion_track = NodePath("Armature/Skeleton3D:mixamorig_Root")
root_motion_local = false

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
root_motion_track = NodePath("Armature/Skeleton3D:mixamorig_Root")
root_motion_local = false
tree_root = ExtResource("3_nde2q")
anim_player = NodePath("../AnimationPlayer")
parameters/MoveDirection/blend_position = Vector2(0, 0)
parameters/Special/current_state = "Moving"
parameters/Special/transition_request = ""
parameters/Special/current_index = 0
parameters/TimeScale/scale = 1.0

[node name="RootMotionView" type="RootMotionView" parent="." index="3"]
animation_path = NodePath("../AnimationTree")

[node name="Vision" type="Area3D" parent="." index="4"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.56873, 0)
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Vision" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.51003)
shape = SubResource("SphereShape3D_3ocbx")

[node name="LeftHandBoneAttachment" type="BoneAttachment3D" parent="." index="5"]
transform = Transform3D(-0.000562328, 1, 1.67638e-07, 0.009129, 5.18467e-06, -0.999958, -0.999958, -0.000562181, -0.00912905, 0.634752, 1.27543, 0.0037608)
bone_name = "mixamorig_LeftHandMiddle1"
bone_idx = 20
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="RightHandBoneAttachment2" type="BoneAttachment3D" parent="." index="6"]
transform = Transform3D(0.00341716, -0.999994, -0.000125217, -0.0133898, 7.9542e-05, -0.99991, 0.999905, 0.00341853, -0.0133893, -0.6986, 1.27552, 0.00442236)
bone_name = "mixamorig_RightHandMiddle3"
bone_idx = 46
use_external_skeleton = true
external_skeleton = NodePath("../Armature/Skeleton3D")

[node name="SickAssGun" type="MeshInstance3D" parent="RightHandBoneAttachment2" index="0"]
transform = Transform3D(0.178686, 1.43899, -0.170216, -0.305761, -0.130199, -1.42168, -1.4164, 0.209643, 0.285426, 0.0486743, -0.11778, 0.0524328)
material_override = SubResource("StandardMaterial3D_3ocbx")
mesh = SubResource("BoxMesh_3ocbx")
skeleton = NodePath("../..")

[node name="RightHand" type="Marker3D" parent="RightHandBoneAttachment2/SickAssGun" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0971346)

[node name="LeftHand" type="Marker3D" parent="RightHandBoneAttachment2/SickAssGun" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0891441)

[node name="MeshInstance3D2" type="MeshInstance3D" parent="RightHandBoneAttachment2/SickAssGun" index="2"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.000823617, 0.0554796)
material_override = SubResource("StandardMaterial3D_ye2x2")
mesh = SubResource("CylinderMesh_ye2x2")
skeleton = NodePath("../../..")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RightHandBoneAttachment2/SickAssGun" index="3"]
transform = Transform3D(1, 0, 0, 0, 0.990105, -0.140331, 0, 0.140331, 0.990105, 0, -0.0524004, -0.0874176)
material_override = SubResource("StandardMaterial3D_jjuis")
mesh = SubResource("BoxMesh_jjuis")
