[gd_scene load_steps=14 format=3 uid="uid://csvdqccaap4sw"]

[ext_resource type="Script" uid="uid://bc1s83133nqrb" path="res://game/player/player.gd" id="1_7hyr5"]
[ext_resource type="Script" uid="uid://j801jgkt1mf" path="res://game/player/weapon.gd" id="2_a4w0n"]
[ext_resource type="Script" uid="uid://dvra5c3bg3gxm" path="res://game/player/cam.gd" id="2_b2mth"]
[ext_resource type="Script" uid="uid://de7cvkqkpjfvt" path="res://game/player/crosshair.gd" id="3_8soms"]
[ext_resource type="AudioStream" uid="uid://ckg8kreql6c0e" path="res://game/player/footstep_metal.tres" id="5_5fytw"]
[ext_resource type="AudioStream" path="res://game/player/land_metal.tres" id="6_anr75"]
[ext_resource type="AudioStream" path="res://game/player/jump_metal.tres" id="7_epvkq"]
[ext_resource type="AudioStream" path="res://game/player/walljump.tres" id="8_epvkq"]
[ext_resource type="AudioStream" uid="uid://c20ji855w3s28" path="res://game/player/melee.tres" id="9_5ghna"]

[sub_resource type="Curve" id="Curve_a4w0n"]
_data = [Vector2(0, 0.5361), 0.0, -19.2906, 0, 0, Vector2(0.0458453, 0.190871), -0.694639, -0.694639, 0, 0, Vector2(1, 0), -0.159803, 0.0, 0, 0]
point_count = 3

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8soms"]
height = 1.6

[sub_resource type="CapsuleMesh" id="CapsuleMesh_a4w0n"]
radius = 0.3
height = 1.6

[sub_resource type="SphereMesh" id="SphereMesh_a4w0n"]
height = 0.2

[node name="Player" type="CharacterBody3D"]
collision_layer = 3
script = ExtResource("1_7hyr5")
target_range_over_distance = SubResource("Curve_a4w0n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
shape = SubResource("CapsuleShape3D_8soms")

[node name="Model" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="Weapon" type="Node3D" parent="Model"]
unique_name_in_owner = true
script = ExtResource("2_a4w0n")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Model"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
mesh = SubResource("CapsuleMesh_a4w0n")
skeleton = NodePath("../..")

[node name="MeleeAttack" type="MeshInstance3D" parent="Model"]
unique_name_in_owner = true
transform = Transform3D(2.3309, 0, 0, 0, 2.3309, 0, 0, 0, 2.3309, 0, 0.728757, 0)
visible = false
mesh = SubResource("SphereMesh_a4w0n")
skeleton = NodePath("../..")

[node name="Cam" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)
script = ExtResource("2_b2mth")

[node name="RayAimCam" type="RayCast3D" parent="Cam"]
unique_name_in_owner = true
target_position = Vector3(0, 0, -50)
collision_mask = 5

[node name="Camera" type="Camera3D" parent="Cam"]
unique_name_in_owner = true
fov = 95.0

[node name="RayAimPlayer" type="RayCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)
collision_mask = 5

[node name="RayCam" type="RayCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)

[node name="RayUp" type="RayCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
target_position = Vector3(0, 0.5, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Crosshair" type="Node2D" parent="CanvasLayer"]
unique_name_in_owner = true
script = ExtResource("3_8soms")

[node name="Polygon2D" type="Polygon2D" parent="CanvasLayer/Crosshair"]
polygon = PackedVector2Array(0, 0, -5, -7, 5, -7)

[node name="Polygon2D2" type="Polygon2D" parent="CanvasLayer/Crosshair"]
rotation = 1.57079
polygon = PackedVector2Array(0, 0, -5, -7, 5, -7)

[node name="Polygon2D3" type="Polygon2D" parent="CanvasLayer/Crosshair"]
rotation = 3.14159
polygon = PackedVector2Array(0, 0, -5, -7, 5, -7)

[node name="Polygon2D4" type="Polygon2D" parent="CanvasLayer/Crosshair"]
rotation = 4.71238
polygon = PackedVector2Array(0, 0, -5, -7, 5, -7)

[node name="Audio" type="Node3D" parent="."]

[node name="AudioStep" type="AudioStreamPlayer" parent="Audio"]
unique_name_in_owner = true
stream = ExtResource("5_5fytw")
volume_db = -5.0
pitch_scale = 0.5
bus = &"SFX"

[node name="AudioLand" type="AudioStreamPlayer" parent="Audio"]
unique_name_in_owner = true
stream = ExtResource("6_anr75")
bus = &"SFX"

[node name="AudioJump" type="AudioStreamPlayer" parent="Audio"]
unique_name_in_owner = true
stream = ExtResource("7_epvkq")
bus = &"SFX"

[node name="AudioWallbounce" type="AudioStreamPlayer" parent="Audio"]
unique_name_in_owner = true
stream = ExtResource("8_epvkq")
bus = &"SFX"

[node name="AudioMelee" type="AudioStreamPlayer" parent="Audio"]
unique_name_in_owner = true
stream = ExtResource("9_5ghna")
bus = &"SFX"
